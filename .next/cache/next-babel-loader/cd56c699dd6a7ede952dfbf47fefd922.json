{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport { useReducer, useEffect } from \"react\";\nimport window from \"global/window\";\n\nfunction useLocalStorageState(key, defaultVal, reducer) {\n  var _useReducer = useReducer(reducer, defaultVal, function () {\n    var val;\n\n    try {\n      val = JSON.parse(window.localStorage.getItem(key) || String(defaultVal));\n    } catch (e) {\n      val = defaultVal;\n    }\n\n    return val;\n  }),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  useEffect(function () {\n    window.localStorage.setItem(key, _JSON$stringify(state));\n  }, [state]);\n  return [state, dispatch];\n}\n\nexport default useLocalStorageState;","map":{"version":3,"sources":["I:\\AnimeChart\\animechart\\hooks\\useLocalStorage.js"],"names":["useReducer","useEffect","window","useLocalStorageState","key","defaultVal","reducer","val","JSON","parse","localStorage","getItem","String","e","state","dispatch","setItem"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,OAAOC,MAAP,MAAmB,eAAnB;;AAEA,SAASC,oBAAT,CAA8BC,GAA9B,EAAmCC,UAAnC,EAA8CC,OAA9C,EAAuD;AAAA,oBAC3BN,UAAU,CAACM,OAAD,EAASD,UAAT,EAAoB,YAAM;AAC5D,QAAIE,GAAJ;;AACA,QAAI;AACFA,MAAAA,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWP,MAAM,CAACQ,YAAP,CAAoBC,OAApB,CAA4BP,GAA5B,KAAoCQ,MAAM,CAACP,UAAD,CAArD,CAAN;AACD,KAFD,CAEE,OAAOQ,CAAP,EAAU;AACVN,MAAAA,GAAG,GAAGF,UAAN;AACD;;AACD,WAAOE,GAAP;AAED,GATmC,CADiB;AAAA,MAC9CO,KAD8C;AAAA,MACvCC,QADuC;;AAWrDd,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,MAAM,CAACQ,YAAP,CAAoBM,OAApB,CAA4BZ,GAA5B,EAAiC,gBAAeU,KAAf,CAAjC;AACD,GAFQ,EAEP,CAACA,KAAD,CAFO,CAAT;AAGA,SAAM,CAACA,KAAD,EAAOC,QAAP,CAAN;AACD;;AACD,eAAeZ,oBAAf","sourcesContent":["import { useReducer, useEffect } from \"react\";\r\nimport window from \"global/window\";\r\n\r\nfunction useLocalStorageState(key, defaultVal,reducer) {\r\n  const [state, dispatch] = useReducer(reducer,defaultVal,() => {\r\n    let val;\r\n    try {\r\n      val = JSON.parse(window.localStorage.getItem(key) || String(defaultVal));\r\n    } catch (e) {\r\n      val = defaultVal;\r\n    }\r\n    return val;\r\n      \r\n  })\r\n  useEffect(() => {\r\n    window.localStorage.setItem(key, JSON.stringify(state));\r\n  },[state]);\r\n  return[state,dispatch];\r\n}\r\nexport default useLocalStorageState;\r\n"]},"metadata":{},"sourceType":"module"}