{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport { useReducer, useEffect } from \"react\";\nimport window from \"global/window\";\n\nfunction useLocalStorageState(key, defaultVal, reducer) {\n  const {\n    0: state,\n    1: setState\n  } = useReducer(reducer, defaultVal, () => {\n    let val;\n\n    try {\n      val = JSON.parse(window.localStorage.getItem(key) || String(defaultVal));\n    } catch (e) {\n      val = defaultVal;\n    }\n\n    return val;\n  });\n  useEffect(() => {\n    window.localStorage.setItem(key, _JSON$stringify(state));\n  }, [state]);\n  return [state, setState];\n}\n\nexport default useLocalStorageState;","map":{"version":3,"sources":["I:\\AnimeChart\\animechart\\hooks\\useLocalStorage.js"],"names":["useReducer","useEffect","window","useLocalStorageState","key","defaultVal","reducer","state","setState","val","JSON","parse","localStorage","getItem","String","e","setItem"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,OAAOC,MAAP,MAAmB,eAAnB;;AAEA,SAASC,oBAAT,CAA8BC,GAA9B,EAAmCC,UAAnC,EAA8CC,OAA9C,EAAuD;AACrD,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBR,UAAU,CAACM,OAAD,EAASD,UAAT,EAAoB,MAAM;AAC5D,QAAII,GAAJ;;AACA,QAAI;AACFA,MAAAA,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWT,MAAM,CAACU,YAAP,CAAoBC,OAApB,CAA4BT,GAA5B,KAAoCU,MAAM,CAACT,UAAD,CAArD,CAAN;AACD,KAFD,CAEE,OAAOU,CAAP,EAAU;AACVN,MAAAA,GAAG,GAAGJ,UAAN;AACD;;AACD,WAAOI,GAAP;AAED,GATmC,CAApC;AAUAR,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,MAAM,CAACU,YAAP,CAAoBI,OAApB,CAA4BZ,GAA5B,EAAiC,gBAAeG,KAAf,CAAjC;AACD,GAFQ,EAEP,CAACA,KAAD,CAFO,CAAT;AAGA,SAAM,CAACA,KAAD,EAAOC,QAAP,CAAN;AACD;;AACD,eAAeL,oBAAf","sourcesContent":["import { useReducer, useEffect } from \"react\";\r\nimport window from \"global/window\";\r\n\r\nfunction useLocalStorageState(key, defaultVal,reducer) {\r\n  const [state, setState] = useReducer(reducer,defaultVal,() => {\r\n    let val;\r\n    try {\r\n      val = JSON.parse(window.localStorage.getItem(key) || String(defaultVal));\r\n    } catch (e) {\r\n      val = defaultVal;\r\n    }\r\n    return val;\r\n      \r\n  })\r\n  useEffect(() => {\r\n    window.localStorage.setItem(key, JSON.stringify(state));\r\n  },[state]);\r\n  return[state,setState];\r\n}\r\nexport default useLocalStorageState;\r\n"]},"metadata":{},"sourceType":"module"}